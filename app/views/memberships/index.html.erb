<div class = "page-header">
  <h1><%=@project.name%>: Manage Members </h1>
</div>

<div>
  <ol class="breadcrumb">
    <li><%=link_to "Projects", projects_path%></li>
    <li><%=link_to @project.name, @project%></li>
    <li class="active">Memberships</li>
  </ol>
</div>
<div class = "row">
<div class = "col-md-7">
<% if @membership.errors.any? %>
    <div class="alert alert-danger", role ="alert">
      <h3><%=pluralize(@membership.errors.count, "error")%>
        prohibited this form from being saved:</h3>
      <ul>
        <%@membership.errors.full_messages.each do |msg|%>
        <li><%=msg%></li>
        <%end%>
      </ul>
  </div>
<%end%>
</div>
</div>


<div class = "well">
  <%=form_for [@project, @membership], html:{class: "form-inline"} do |f|%>
  <div class = "form-group">
    <%=f.collection_select(:user_id, User.all, :id, :full_name, {prompt: "Please select a user..."}, {class: "form-control"})%>
  </div>
  <div class = "form-group">
    <%=f.collection_select(:role, Membership::ROLE, :to_s, :to_s, {}, {class: "form-control"})%>
  </div>

  <div class = "form-group">
    <%=f.submit "Add New Member", class: "btn btn-primary"%>
  </div>
  <%end%>
</div>


<%@project.users.each do |user|%>
    <p><%=link_to user.full_name, user_path(user)%></p>

<%end%>
